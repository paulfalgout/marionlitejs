var Marionlite=function(l,f,b){var d=function(a){this._modules={};this._events={};b.extend(this,a)};b.extend(d.prototype,{initialize:function(a){this.trigger("initialize");b.extend(this,a);b.each(this._modules,function(a){!a.isInitialized&&b.isFunction(a.initialize)&&(a.initialize(),a.isInitialized=!0)});return this},start:function(a){b.extend(this,a);this.initialize();this.trigger("start");b.each(this._modules,function(a){b.isFunction(a.start)&&a.start()});return this},on:function(a,b,c){(this._events[a]||
(this._events[a]=[])).push({callback:b,ctx:c||this});return this},off:function(a){delete this._events[a];return this},trigger:function(a){var b=[].slice.call(arguments,1),c=this._events[a];c&&this._triggerEvents(c,b);return this},_triggerEvents:function(a,b){var c,e=-1,d=a.length,g=b[0],h=b[1],f=b[2];switch(b.length){case 0:for(;++e<d;)(c=a[e]).callback.call(c.ctx);break;case 1:for(;++e<d;)(c=a[e]).callback.call(c.ctx,g);break;case 2:for(;++e<d;)(c=a[e]).callback.call(c.ctx,g,h);break;case 3:for(;++e<
d;)(c=a[e]).callback.call(c.ctx,g,h,f);break;default:for(;++e<d;)(c=a[e]).callback.apply(c.ctx,b)}},module:function(a,k){this[a]=this[a]||new d.module;k.call(this[a],this[a],this,f,b);this._modules[a]=this[a];return this}});d.module=function(){this.isInitialized=!1};b.extend(d.module.prototype,{extend:function(a){b.extend(this,a)}});return d}(this,$,_);
